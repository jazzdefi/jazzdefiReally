{"ast":null,"code":"var _jsxFileName = \"/home/drab/Documents/jazzdefi/src/views/Farms/components/FarmTable/Actions/StakedAction.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { Button, useModal, IconButton, AddIcon, MinusIcon } from '@jazzdefi/uikit';\nimport UnlockButton from 'components/UnlockButton';\nimport { useWeb3React } from '@web3-react/core';\nimport { useFarmUser } from 'state/hooks';\nimport useI18n from 'hooks/useI18n';\nimport { useApprove } from 'hooks/useApprove';\nimport { getBep20Contract } from 'utils/contractHelpers';\nimport { BASE_ADD_LIQUIDITY_URL } from 'config';\nimport getLiquidityUrlPathParts from 'utils/getLiquidityUrlPathParts';\nimport { getBalanceNumber } from 'utils/formatBalance';\nimport useStake from 'hooks/useStake';\nimport useUnstake from 'hooks/useUnstake';\nimport useWeb3 from 'hooks/useWeb3';\nimport DepositModal from '../../DepositModal';\nimport WithdrawModal from '../../WithdrawModal';\nimport { ActionContainer, ActionTitles, ActionContent, Earned, Title, Subtle } from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst IconButtonWrapper = styled.div`\n  display: flex;\n`;\n_c = IconButtonWrapper;\n\nconst Staked = ({\n  pid,\n  lpSymbol,\n  lpAddresses,\n  quoteToken,\n  token,\n  depositFeeBP = 0\n}) => {\n  _s();\n\n  const TranslateString = useI18n();\n  const {\n    account\n  } = useWeb3React();\n  const [requestedApproval, setRequestedApproval] = useState(false);\n  const {\n    allowance,\n    tokenBalance,\n    stakedBalance\n  } = useFarmUser(pid);\n  const {\n    onStake\n  } = useStake(pid);\n  const {\n    onUnstake\n  } = useUnstake(pid);\n  const web3 = useWeb3();\n  const isApproved = account && allowance && allowance.isGreaterThan(0);\n  const lpAddress = lpAddresses[process.env.REACT_APP_CHAIN_ID];\n  const liquidityUrlPathParts = getLiquidityUrlPathParts({\n    quoteTokenAddress: quoteToken.address,\n    tokenAddress: token.address\n  });\n  const addLiquidityUrl = `${BASE_ADD_LIQUIDITY_URL}/${liquidityUrlPathParts}`;\n  const rawStakedBalance = getBalanceNumber(stakedBalance);\n  const displayBalance = rawStakedBalance.toLocaleString();\n  const [onPresentDeposit] = useModal( /*#__PURE__*/_jsxDEV(DepositModal, {\n    max: tokenBalance,\n    onConfirm: onStake,\n    tokenName: lpSymbol,\n    addLiquidityUrl: addLiquidityUrl,\n    depositFeeBP: depositFeeBP\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this));\n  const [onPresentWithdraw] = useModal( /*#__PURE__*/_jsxDEV(WithdrawModal, {\n    max: stakedBalance,\n    onConfirm: onUnstake,\n    tokenName: lpSymbol\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 40\n  }, this));\n  const lpContract = getBep20Contract(lpAddress, web3);\n  const {\n    onApprove\n  } = useApprove(lpContract);\n  const handleApprove = useCallback(async () => {\n    try {\n      setRequestedApproval(true);\n      await onApprove();\n      setRequestedApproval(false);\n    } catch (e) {\n      console.error(e);\n    }\n  }, [onApprove]);\n\n  if (!account) {\n    return /*#__PURE__*/_jsxDEV(ActionContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ActionTitles, {\n        children: /*#__PURE__*/_jsxDEV(Subtle, {\n          children: TranslateString(999, 'START FARMING')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ActionContent, {\n        children: /*#__PURE__*/_jsxDEV(UnlockButton, {\n          width: \"100%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (isApproved) {\n    if (rawStakedBalance) {\n      return /*#__PURE__*/_jsxDEV(ActionContainer, {\n        children: [/*#__PURE__*/_jsxDEV(ActionTitles, {\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            children: [lpSymbol, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Subtle, {\n            children: TranslateString(999, 'STAKED')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ActionContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Earned, {\n              children: displayBalance\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButtonWrapper, {\n            children: [/*#__PURE__*/_jsxDEV(IconButton, {\n              variant: \"secondary\",\n              onClick: onPresentWithdraw,\n              mr: \"6px\",\n              children: /*#__PURE__*/_jsxDEV(MinusIcon, {\n                color: \"primary\",\n                width: \"14px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              variant: \"secondary\",\n              onClick: onPresentDeposit,\n              children: /*#__PURE__*/_jsxDEV(AddIcon, {\n                color: \"primary\",\n                width: \"14px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(ActionContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ActionTitles, {\n        children: [/*#__PURE__*/_jsxDEV(Subtle, {\n          children: [TranslateString(999, 'STAKE'), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Title, {\n          children: lpSymbol\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ActionContent, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          width: \"100%\",\n          onClick: onPresentDeposit,\n          variant: \"secondary\",\n          children: TranslateString(999, 'Stake LP')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(ActionContainer, {\n    children: [/*#__PURE__*/_jsxDEV(ActionTitles, {\n      children: /*#__PURE__*/_jsxDEV(Subtle, {\n        children: TranslateString(999, 'ENABLE FARM')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ActionContent, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        width: \"100%\",\n        disabled: requestedApproval,\n        onClick: handleApprove,\n        variant: \"secondary\",\n        children: TranslateString(999, 'Enable')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Staked, \"a2ius7s0zEc+tbAUu06DWF2m4iw=\", false, function () {\n  return [useI18n, useWeb3React, useFarmUser, useStake, useUnstake, useWeb3, useModal, useModal, useApprove];\n});\n\n_c2 = Staked;\nexport default Staked;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"IconButtonWrapper\");\n$RefreshReg$(_c2, \"Staked\");","map":{"version":3,"sources":["/home/drab/Documents/jazzdefi/src/views/Farms/components/FarmTable/Actions/StakedAction.tsx"],"names":["React","useState","useCallback","styled","Button","useModal","IconButton","AddIcon","MinusIcon","UnlockButton","useWeb3React","useFarmUser","useI18n","useApprove","getBep20Contract","BASE_ADD_LIQUIDITY_URL","getLiquidityUrlPathParts","getBalanceNumber","useStake","useUnstake","useWeb3","DepositModal","WithdrawModal","ActionContainer","ActionTitles","ActionContent","Earned","Title","Subtle","IconButtonWrapper","div","Staked","pid","lpSymbol","lpAddresses","quoteToken","token","depositFeeBP","TranslateString","account","requestedApproval","setRequestedApproval","allowance","tokenBalance","stakedBalance","onStake","onUnstake","web3","isApproved","isGreaterThan","lpAddress","process","env","REACT_APP_CHAIN_ID","liquidityUrlPathParts","quoteTokenAddress","address","tokenAddress","addLiquidityUrl","rawStakedBalance","displayBalance","toLocaleString","onPresentDeposit","onPresentWithdraw","lpContract","onApprove","handleApprove","e","console","error"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from 'react'\nimport styled from 'styled-components'\nimport { Button, useModal, IconButton, AddIcon, MinusIcon } from '@jazzdefi/uikit'\nimport UnlockButton from 'components/UnlockButton'\nimport { useWeb3React } from '@web3-react/core'\nimport { useFarmUser } from 'state/hooks'\nimport { FarmWithStakedValue } from 'views/Farms/components/FarmCard/FarmCard'\nimport useI18n from 'hooks/useI18n'\nimport { useApprove } from 'hooks/useApprove'\nimport { getBep20Contract } from 'utils/contractHelpers'\nimport { BASE_ADD_LIQUIDITY_URL } from 'config'\nimport getLiquidityUrlPathParts from 'utils/getLiquidityUrlPathParts'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport useStake from 'hooks/useStake'\nimport useUnstake from 'hooks/useUnstake'\nimport useWeb3 from 'hooks/useWeb3'\n\nimport DepositModal from '../../DepositModal'\nimport WithdrawModal from '../../WithdrawModal'\nimport { ActionContainer, ActionTitles, ActionContent, Earned, Title, Subtle } from './styles'\n\nconst IconButtonWrapper = styled.div`\n  display: flex;\n`\n\nconst Staked: React.FunctionComponent<FarmWithStakedValue> = ({\n  pid,\n  lpSymbol,\n  lpAddresses,\n  quoteToken,\n  token,\n  depositFeeBP = 0,\n}) => {\n  const TranslateString = useI18n()\n  const { account } = useWeb3React()\n  const [requestedApproval, setRequestedApproval] = useState(false)\n  const { allowance, tokenBalance, stakedBalance } = useFarmUser(pid)\n  const { onStake } = useStake(pid)\n  const { onUnstake } = useUnstake(pid)\n  const web3 = useWeb3()\n\n  const isApproved = account && allowance && allowance.isGreaterThan(0)\n\n  const lpAddress = lpAddresses[process.env.REACT_APP_CHAIN_ID]\n  const liquidityUrlPathParts = getLiquidityUrlPathParts({\n    quoteTokenAddress: quoteToken.address,\n    tokenAddress: token.address,\n  })\n  const addLiquidityUrl = `${BASE_ADD_LIQUIDITY_URL}/${liquidityUrlPathParts}`\n  const rawStakedBalance = getBalanceNumber(stakedBalance)\n  const displayBalance = rawStakedBalance.toLocaleString()\n\n  const [onPresentDeposit] = useModal(\n    <DepositModal\n      max={tokenBalance}\n      onConfirm={onStake}\n      tokenName={lpSymbol}\n      addLiquidityUrl={addLiquidityUrl}\n      depositFeeBP={depositFeeBP}\n    />,\n  )\n  const [onPresentWithdraw] = useModal(<WithdrawModal max={stakedBalance} onConfirm={onUnstake} tokenName={lpSymbol} />)\n\n  const lpContract = getBep20Contract(lpAddress, web3)\n\n  const { onApprove } = useApprove(lpContract)\n\n  const handleApprove = useCallback(async () => {\n    try {\n      setRequestedApproval(true)\n      await onApprove()\n      setRequestedApproval(false)\n    } catch (e) {\n      console.error(e)\n    }\n  }, [onApprove])\n\n  if (!account) {\n    return (\n      <ActionContainer>\n        <ActionTitles>\n          <Subtle>{TranslateString(999, 'START FARMING')}</Subtle>\n        </ActionTitles>\n        <ActionContent>\n          <UnlockButton width=\"100%\" />\n        </ActionContent>\n      </ActionContainer>\n    )\n  }\n\n  if (isApproved) {\n    if (rawStakedBalance) {\n      return (\n        <ActionContainer>\n          <ActionTitles>\n            <Title>{lpSymbol} </Title>\n            <Subtle>{TranslateString(999, 'STAKED')}</Subtle>\n          </ActionTitles>\n          <ActionContent>\n            <div>\n              <Earned>{displayBalance}</Earned>\n            </div>\n            <IconButtonWrapper>\n              <IconButton variant=\"secondary\" onClick={onPresentWithdraw} mr=\"6px\">\n                <MinusIcon color=\"primary\" width=\"14px\" />\n              </IconButton>\n              <IconButton variant=\"secondary\" onClick={onPresentDeposit}>\n                <AddIcon color=\"primary\" width=\"14px\" />\n              </IconButton>\n            </IconButtonWrapper>\n          </ActionContent>\n        </ActionContainer>\n      )\n    }\n\n    return (\n      <ActionContainer>\n        <ActionTitles>\n          <Subtle>{TranslateString(999, 'STAKE')} </Subtle>\n          <Title>{lpSymbol}</Title>\n        </ActionTitles>\n        <ActionContent>\n          <Button width=\"100%\" onClick={onPresentDeposit} variant=\"secondary\">\n            {TranslateString(999, 'Stake LP')}\n          </Button>\n        </ActionContent>\n      </ActionContainer>\n    )\n  }\n\n  return (\n    <ActionContainer>\n      <ActionTitles>\n        <Subtle>{TranslateString(999, 'ENABLE FARM')}</Subtle>\n      </ActionTitles>\n      <ActionContent>\n        <Button width=\"100%\" disabled={requestedApproval} onClick={handleApprove} variant=\"secondary\">\n          {TranslateString(999, 'Enable')}\n        </Button>\n      </ActionContent>\n    </ActionContainer>\n  )\n}\n\nexport default Staked\n"]},"metadata":{},"sourceType":"module"}