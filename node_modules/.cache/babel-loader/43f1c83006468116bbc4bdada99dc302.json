{"ast":null,"code":"var _jsxFileName = \"/home/drab/Documents/jazzdefi/src/views/Pools/components/CardFooter.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport BigNumber from 'bignumber.js';\nimport styled from 'styled-components';\nimport { getBalanceNumber } from 'utils/formatBalance';\nimport useI18n from 'hooks/useI18n';\nimport { ChevronDown, ChevronUp } from 'react-feather';\nimport { Flex, MetamaskIcon } from '@mozartfinance/uikit';\nimport Balance from 'components/Balance';\nimport { CommunityTag, CoreTag, BinanceTag } from 'components/Tags';\nimport { useBlock } from 'state/hooks';\nimport { PoolCategory } from 'config/constants/types';\nimport { registerToken } from 'utils/wallet';\nimport { BASE_URL } from 'config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst tags = {\n  [PoolCategory.BINANCE]: BinanceTag,\n  [PoolCategory.CORE]: CoreTag,\n  [PoolCategory.COMMUNITY]: CommunityTag\n};\nconst StyledFooter = styled.div`\n  border-top: 1px solid ${({\n  theme\n}) => theme.isDark ? '#524B63' : '#E9EAEB'};\n  color: ${({\n  isFinished,\n  theme\n}) => theme.colors[isFinished ? 'textDisabled2' : 'primary2']};\n  padding: 24px;\n`;\n_c = StyledFooter;\nconst StyledDetailsButton = styled.button`\n  align-items: center;\n  background-color: transparent;\n  border: 0;\n  color: ${props => props.theme.colors.primary};\n  cursor: pointer;\n  display: inline-flex;\n  font-size: 16px;\n  font-weight: 600;\n  height: 32px;\n  justify-content: center;\n  outline: 0;\n  padding: 0;\n  &:hover {\n    opacity: 0.9;\n  }\n\n  & > svg {\n    margin-left: 4px;\n  }\n`;\n_c2 = StyledDetailsButton;\nconst Details = styled.div`\n  margin-top: 24px;\n`;\n_c3 = Details;\nconst Row = styled(Flex)`\n  align-items: center;\n`;\n_c4 = Row;\nconst FlexFull = styled.div`\n  flex: 1;\n`;\n_c5 = FlexFull;\nconst Label = styled.div`\n  font-size: 14px;\n`;\n_c6 = Label;\nconst TokenLink = styled.a`\n  font-size: 14px;\n  text-decoration: none;\n  color: ${props => props.theme.colors.primary};\n  cursor: pointer;\n`;\n_c7 = TokenLink;\n\nconst CardFooter = ({\n  projectLink,\n  decimals,\n  tokenAddress,\n  totalStaked,\n  tokenName,\n  tokenDecimals,\n  isFinished,\n  startBlock,\n  endBlock,\n  poolCategory,\n  stakingTokenPrice,\n  rewardTokenPrice\n}) => {\n  _s();\n\n  const {\n    currentBlock\n  } = useBlock();\n  const [isOpen, setIsOpen] = useState(false);\n  const TranslateString = useI18n();\n  const Icon = isOpen ? ChevronUp : ChevronDown;\n\n  const handleClick = () => setIsOpen(!isOpen);\n\n  const Tag = tags[poolCategory];\n  const blocksUntilStart = Math.max(startBlock - currentBlock, 0);\n  const blocksRemaining = Math.max(endBlock - currentBlock, 0);\n  const imageSrc = `${BASE_URL}/images/tokens/${tokenName.toLowerCase()}.png`;\n  const totalLiquidity = new BigNumber(getBalanceNumber(totalStaked, decimals)).times(rewardTokenPrice);\n  const totalLiquidityUnitReverse = true;\n  return /*#__PURE__*/_jsxDEV(StyledFooter, {\n    isFinished: isFinished,\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(FlexFull, {\n        children: /*#__PURE__*/_jsxDEV(Tag, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledDetailsButton, {\n        onClick: handleClick,\n        children: [isOpen ? TranslateString(1066, 'Hide') : TranslateString(658, 'Details'), \" \", /*#__PURE__*/_jsxDEV(Icon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 86\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(Details, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        mb: \"4px\",\n        children: [/*#__PURE__*/_jsxDEV(FlexFull, {\n          children: /*#__PURE__*/_jsxDEV(Label, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              role: \"img\",\n              \"aria-label\": \"syrup\",\n              children: ' '\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this), TranslateString(408, 'Total')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Balance, {\n          fontSize: \"14px\",\n          isDisabled: isFinished,\n          value: getBalanceNumber(totalStaked, decimals)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        mb: \"4px\",\n        children: [/*#__PURE__*/_jsxDEV(FlexFull, {\n          children: /*#__PURE__*/_jsxDEV(Label, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              role: \"img\",\n              \"aria-label\": \"syrup\",\n              children: ' '\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this), TranslateString(408, 'Total Liquidity')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Balance, {\n          fontSize: \"14px\",\n          isDisabled: isFinished,\n          value: totalLiquidity.toNumber(),\n          unit: \"$\",\n          reverse: totalLiquidityUnitReverse\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this), blocksUntilStart > 0 && /*#__PURE__*/_jsxDEV(Row, {\n        mb: \"4px\",\n        children: [/*#__PURE__*/_jsxDEV(FlexFull, {\n          children: /*#__PURE__*/_jsxDEV(Label, {\n            children: [TranslateString(1212, 'Start'), \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Balance, {\n          fontSize: \"14px\",\n          isDisabled: isFinished,\n          value: blocksUntilStart,\n          decimals: 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }, this), blocksUntilStart === 0 && blocksRemaining > 0 && /*#__PURE__*/_jsxDEV(Row, {\n        mb: \"4px\",\n        children: [/*#__PURE__*/_jsxDEV(FlexFull, {\n          children: /*#__PURE__*/_jsxDEV(Label, {\n            children: [TranslateString(410, 'End'), \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Balance, {\n          fontSize: \"14px\",\n          isDisabled: isFinished,\n          value: blocksRemaining,\n          decimals: 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }, this), tokenAddress && /*#__PURE__*/_jsxDEV(Flex, {\n        mb: \"4px\",\n        children: [/*#__PURE__*/_jsxDEV(TokenLink, {\n          onClick: () => registerToken(tokenAddress, tokenName, tokenDecimals, imageSrc),\n          children: [\"Add \", tokenName, \" to Metamask\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(MetamaskIcon, {\n          height: 15,\n          width: 15,\n          ml: \"4px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(TokenLink, {\n        href: projectLink,\n        target: \"_blank\",\n        children: TranslateString(412, 'View project site')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CardFooter, \"DP6BJ/zx/TNhP9Xh9Mw/ofMtX6M=\", false, function () {\n  return [useBlock, useI18n];\n});\n\n_c8 = CardFooter;\nexport default _c9 = /*#__PURE__*/React.memo(CardFooter);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"StyledFooter\");\n$RefreshReg$(_c2, \"StyledDetailsButton\");\n$RefreshReg$(_c3, \"Details\");\n$RefreshReg$(_c4, \"Row\");\n$RefreshReg$(_c5, \"FlexFull\");\n$RefreshReg$(_c6, \"Label\");\n$RefreshReg$(_c7, \"TokenLink\");\n$RefreshReg$(_c8, \"CardFooter\");\n$RefreshReg$(_c9, \"%default%\");","map":{"version":3,"sources":["/home/drab/Documents/jazzdefi/src/views/Pools/components/CardFooter.tsx"],"names":["React","useState","BigNumber","styled","getBalanceNumber","useI18n","ChevronDown","ChevronUp","Flex","MetamaskIcon","Balance","CommunityTag","CoreTag","BinanceTag","useBlock","PoolCategory","registerToken","BASE_URL","tags","BINANCE","CORE","COMMUNITY","StyledFooter","div","theme","isDark","isFinished","colors","StyledDetailsButton","button","props","primary","Details","Row","FlexFull","Label","TokenLink","a","CardFooter","projectLink","decimals","tokenAddress","totalStaked","tokenName","tokenDecimals","startBlock","endBlock","poolCategory","stakingTokenPrice","rewardTokenPrice","currentBlock","isOpen","setIsOpen","TranslateString","Icon","handleClick","Tag","blocksUntilStart","Math","max","blocksRemaining","imageSrc","toLowerCase","totalLiquidity","times","totalLiquidityUnitReverse","toNumber","memo"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport styled from 'styled-components'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport useI18n from 'hooks/useI18n'\nimport { ChevronDown, ChevronUp } from 'react-feather'\nimport { Flex, MetamaskIcon } from '@mozartfinance/uikit'\nimport Balance from 'components/Balance'\nimport { CommunityTag, CoreTag, BinanceTag } from 'components/Tags'\nimport { useBlock, useGetApiPrices } from 'state/hooks'\nimport { PoolCategory } from 'config/constants/types'\nimport { registerToken } from 'utils/wallet'\nimport { BASE_URL } from 'config'\n\nconst tags = {\n  [PoolCategory.BINANCE]: BinanceTag,\n  [PoolCategory.CORE]: CoreTag,\n  [PoolCategory.COMMUNITY]: CommunityTag,\n}\n\ninterface Props {\n  projectLink: string\n  decimals: number\n  totalStaked: BigNumber\n  tokenName: string\n  tokenAddress: string\n  tokenDecimals: number\n  startBlock: number\n  endBlock: number\n  isFinished: boolean\n  poolCategory: PoolCategory\n  stakingTokenPrice: number\n  rewardTokenPrice: number\n}\n\nconst StyledFooter = styled.div<{ isFinished: boolean }>`\n  border-top: 1px solid ${({ theme }) => (theme.isDark ? '#524B63' : '#E9EAEB')};\n  color: ${({ isFinished, theme }) => theme.colors[isFinished ? 'textDisabled2' : 'primary2']};\n  padding: 24px;\n`\n\nconst StyledDetailsButton = styled.button`\n  align-items: center;\n  background-color: transparent;\n  border: 0;\n  color: ${(props) => props.theme.colors.primary};\n  cursor: pointer;\n  display: inline-flex;\n  font-size: 16px;\n  font-weight: 600;\n  height: 32px;\n  justify-content: center;\n  outline: 0;\n  padding: 0;\n  &:hover {\n    opacity: 0.9;\n  }\n\n  & > svg {\n    margin-left: 4px;\n  }\n`\n\nconst Details = styled.div`\n  margin-top: 24px;\n`\n\nconst Row = styled(Flex)`\n  align-items: center;\n`\n\nconst FlexFull = styled.div`\n  flex: 1;\n`\nconst Label = styled.div`\n  font-size: 14px;\n`\nconst TokenLink = styled.a`\n  font-size: 14px;\n  text-decoration: none;\n  color: ${(props) => props.theme.colors.primary};\n  cursor: pointer;\n`\n\nconst CardFooter: React.FC<Props> = ({\n  projectLink,\n  decimals,\n  tokenAddress,\n  totalStaked,\n  tokenName,\n  tokenDecimals,\n  isFinished,\n  startBlock,\n  endBlock,\n  poolCategory,\n  stakingTokenPrice,\n  rewardTokenPrice,\n}) => {\n  const { currentBlock } = useBlock()\n  const [isOpen, setIsOpen] = useState(false)\n  const TranslateString = useI18n()\n  const Icon = isOpen ? ChevronUp : ChevronDown\n\n  const handleClick = () => setIsOpen(!isOpen)\n  const Tag = tags[poolCategory]\n\n  const blocksUntilStart = Math.max(startBlock - currentBlock, 0)\n  const blocksRemaining = Math.max(endBlock - currentBlock, 0)\n\n  const imageSrc = `${BASE_URL}/images/tokens/${tokenName.toLowerCase()}.png`\n\n  const totalLiquidity = new BigNumber(getBalanceNumber(totalStaked, decimals)).times(rewardTokenPrice)\n\n  const totalLiquidityUnitReverse = true\n\n  return (\n    <StyledFooter isFinished={isFinished}>\n      <Row>\n        <FlexFull>\n          <Tag />\n        </FlexFull>\n        <StyledDetailsButton onClick={handleClick}>\n          {isOpen ? TranslateString(1066, 'Hide') : TranslateString(658, 'Details')} <Icon />\n        </StyledDetailsButton>\n      </Row>\n      {isOpen && (\n        <Details>\n          <Row mb=\"4px\">\n            <FlexFull>\n              <Label>\n                <span role=\"img\" aria-label=\"syrup\">\n                  {' '}\n                </span>\n                {TranslateString(408, 'Total')}\n              </Label>\n            </FlexFull>\n            <Balance fontSize=\"14px\" isDisabled={isFinished} value={getBalanceNumber(totalStaked, decimals)} />\n          </Row>\n          <Row mb=\"4px\">\n            <FlexFull>\n              <Label>\n                <span role=\"img\" aria-label=\"syrup\">\n                  {' '}\n                </span>\n                {TranslateString(408, 'Total Liquidity')}\n              </Label>\n            </FlexFull>\n            <Balance\n              fontSize=\"14px\"\n              isDisabled={isFinished}\n              value={totalLiquidity.toNumber()}\n              unit=\"$\"\n              reverse={totalLiquidityUnitReverse}\n            />\n          </Row>\n          {blocksUntilStart > 0 && (\n            <Row mb=\"4px\">\n              <FlexFull>\n                <Label>{TranslateString(1212, 'Start')}:</Label>\n              </FlexFull>\n              <Balance fontSize=\"14px\" isDisabled={isFinished} value={blocksUntilStart} decimals={0} />\n            </Row>\n          )}\n          {blocksUntilStart === 0 && blocksRemaining > 0 && (\n            <Row mb=\"4px\">\n              <FlexFull>\n                <Label>{TranslateString(410, 'End')}:</Label>\n              </FlexFull>\n              <Balance fontSize=\"14px\" isDisabled={isFinished} value={blocksRemaining} decimals={0} />\n            </Row>\n          )}\n          {tokenAddress && (\n            <Flex mb=\"4px\">\n              <TokenLink onClick={() => registerToken(tokenAddress, tokenName, tokenDecimals, imageSrc)}>\n                Add {tokenName} to Metamask\n              </TokenLink>\n              <MetamaskIcon height={15} width={15} ml=\"4px\" />\n            </Flex>\n          )}\n          <TokenLink href={projectLink} target=\"_blank\">\n            {TranslateString(412, 'View project site')}\n          </TokenLink>\n        </Details>\n      )}\n    </StyledFooter>\n  )\n}\n\nexport default React.memo(CardFooter)\n"]},"metadata":{},"sourceType":"module"}