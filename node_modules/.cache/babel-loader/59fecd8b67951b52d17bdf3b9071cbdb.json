{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport { useCallback } from \"react\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { ethers } from \"ethers\";\nimport { useDispatch } from \"react-redux\";\nimport { updateUserAllowance, fetchFarmUserDataAsync } from \"state/actions\";\nimport { approve } from \"utils/callHelpers\";\nimport { useMasterchef, useCake, useSousChef, useLottery } from \"./useContract\"; // Approve a Farm\n\nexport const useApprove = lpContract => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    account\n  } = useWeb3React();\n  const masterChefContract = useMasterchef();\n  const handleApprove = useCallback(async () => {\n    try {\n      const tx = await approve(lpContract, masterChefContract, account);\n      dispatch(fetchFarmUserDataAsync(account));\n      return tx;\n    } catch (e) {\n      return false;\n    }\n  }, [account, dispatch, lpContract, masterChefContract]);\n  return {\n    onApprove: handleApprove\n  };\n}; // Approve a Pool\n\n_s(useApprove, \"CyPtPsgtMO9XxLnlPwhr7pP8pYw=\", false, function () {\n  return [useDispatch, useWeb3React, useMasterchef];\n});\n\nexport const useSousApprove = (lpContract, sousId) => {\n  _s2();\n\n  const dispatch = useDispatch();\n  const {\n    account\n  } = useWeb3React();\n  const sousChefContract = useSousChef(sousId);\n  const handleApprove = useCallback(async () => {\n    try {\n      const tx = await approve(lpContract, sousChefContract, account);\n      dispatch(updateUserAllowance(sousId, account));\n      return tx;\n    } catch (e) {\n      return false;\n    }\n  }, [account, dispatch, lpContract, sousChefContract, sousId]);\n  return {\n    onApprove: handleApprove\n  };\n}; // Approve the lottery\n\n_s2(useSousApprove, \"VnC3u6qkzwnlWDfWZ9DjyEx2Nvc=\", false, function () {\n  return [useDispatch, useWeb3React, useSousChef];\n});\n\nexport const useLotteryApprove = () => {\n  _s3();\n\n  const {\n    account\n  } = useWeb3React();\n  const cakeContract = useCake();\n  const lotteryContract = useLottery();\n  const handleApprove = useCallback(async () => {\n    try {\n      const tx = await approve(cakeContract, lotteryContract, account);\n      return tx;\n    } catch (e) {\n      return false;\n    }\n  }, [account, cakeContract, lotteryContract]);\n  return {\n    onApprove: handleApprove\n  };\n}; // Approve an IFO\n\n_s3(useLotteryApprove, \"LhenuLjIWrjJ4uAEu8OIExDSML8=\", false, function () {\n  return [useWeb3React, useCake, useLottery];\n});\n\nexport const useIfoApprove = (tokenContract, spenderAddress) => {\n  _s4();\n\n  const {\n    account\n  } = useWeb3React();\n  const onApprove = useCallback(async () => {\n    const tx = await tokenContract.methods.approve(spenderAddress, ethers.constants.MaxUint256).send({\n      from: account\n    });\n    return tx;\n  }, [account, spenderAddress, tokenContract]);\n  return onApprove;\n};\n\n_s4(useIfoApprove, \"3yImrJ6M/zP7dLRTQFMJ9arc+A8=\", false, function () {\n  return [useWeb3React];\n});","map":{"version":3,"sources":["/home/drab/Documents/jazzdefi/src/hooks/useApprove.ts"],"names":["useCallback","useWeb3React","ethers","useDispatch","updateUserAllowance","fetchFarmUserDataAsync","approve","useMasterchef","useCake","useSousChef","useLottery","useApprove","lpContract","dispatch","account","masterChefContract","handleApprove","tx","e","onApprove","useSousApprove","sousId","sousChefContract","useLotteryApprove","cakeContract","lotteryContract","useIfoApprove","tokenContract","spenderAddress","methods","constants","MaxUint256","send","from"],"mappings":";;;;;AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,SAASC,YAAT,QAA6B,kBAA7B;AAEA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,mBAAT,EAA8BC,sBAA9B,QAA4D,eAA5D;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,SAASC,aAAT,EAAwBC,OAAxB,EAAiCC,WAAjC,EAA8CC,UAA9C,QAAgE,eAAhE,C,CAEA;;AACA,OAAO,MAAMC,UAAU,GAAIC,UAAD,IAA0B;AAAA;;AAClD,QAAMC,QAAQ,GAAGV,WAAW,EAA5B;AACA,QAAM;AAAEW,IAAAA;AAAF,MAAcb,YAAY,EAAhC;AACA,QAAMc,kBAAkB,GAAGR,aAAa,EAAxC;AAEA,QAAMS,aAAa,GAAGhB,WAAW,CAAC,YAAY;AAC5C,QAAI;AACF,YAAMiB,EAAE,GAAG,MAAMX,OAAO,CAACM,UAAD,EAAaG,kBAAb,EAAiCD,OAAjC,CAAxB;AACAD,MAAAA,QAAQ,CAACR,sBAAsB,CAACS,OAAD,CAAvB,CAAR;AACA,aAAOG,EAAP;AACD,KAJD,CAIE,OAAOC,CAAP,EAAU;AACV,aAAO,KAAP;AACD;AACF,GARgC,EAQ9B,CAACJ,OAAD,EAAUD,QAAV,EAAoBD,UAApB,EAAgCG,kBAAhC,CAR8B,CAAjC;AAUA,SAAO;AAAEI,IAAAA,SAAS,EAAEH;AAAb,GAAP;AACD,CAhBM,C,CAkBP;;GAlBaL,U;UACMR,W,EACGF,Y,EACOM,a;;;AAgB7B,OAAO,MAAMa,cAAc,GAAG,CAACR,UAAD,EAAuBS,MAAvB,KAAkC;AAAA;;AAC9D,QAAMR,QAAQ,GAAGV,WAAW,EAA5B;AACA,QAAM;AAAEW,IAAAA;AAAF,MAAcb,YAAY,EAAhC;AACA,QAAMqB,gBAAgB,GAAGb,WAAW,CAACY,MAAD,CAApC;AAEA,QAAML,aAAa,GAAGhB,WAAW,CAAC,YAAY;AAC5C,QAAI;AACF,YAAMiB,EAAE,GAAG,MAAMX,OAAO,CAACM,UAAD,EAAaU,gBAAb,EAA+BR,OAA/B,CAAxB;AACAD,MAAAA,QAAQ,CAACT,mBAAmB,CAACiB,MAAD,EAASP,OAAT,CAApB,CAAR;AACA,aAAOG,EAAP;AACD,KAJD,CAIE,OAAOC,CAAP,EAAU;AACV,aAAO,KAAP;AACD;AACF,GARgC,EAQ9B,CAACJ,OAAD,EAAUD,QAAV,EAAoBD,UAApB,EAAgCU,gBAAhC,EAAkDD,MAAlD,CAR8B,CAAjC;AAUA,SAAO;AAAEF,IAAAA,SAAS,EAAEH;AAAb,GAAP;AACD,CAhBM,C,CAkBP;;IAlBaI,c;UACMjB,W,EACGF,Y,EACKQ,W;;;AAgB3B,OAAO,MAAMc,iBAAiB,GAAG,MAAM;AAAA;;AACrC,QAAM;AAAET,IAAAA;AAAF,MAAcb,YAAY,EAAhC;AACA,QAAMuB,YAAY,GAAGhB,OAAO,EAA5B;AACA,QAAMiB,eAAe,GAAGf,UAAU,EAAlC;AAEA,QAAMM,aAAa,GAAGhB,WAAW,CAAC,YAAY;AAC5C,QAAI;AACF,YAAMiB,EAAE,GAAG,MAAMX,OAAO,CAACkB,YAAD,EAAeC,eAAf,EAAgCX,OAAhC,CAAxB;AACA,aAAOG,EAAP;AACD,KAHD,CAGE,OAAOC,CAAP,EAAU;AACV,aAAO,KAAP;AACD;AACF,GAPgC,EAO9B,CAACJ,OAAD,EAAUU,YAAV,EAAwBC,eAAxB,CAP8B,CAAjC;AASA,SAAO;AAAEN,IAAAA,SAAS,EAAEH;AAAb,GAAP;AACD,CAfM,C,CAiBP;;IAjBaO,iB;UACStB,Y,EACCO,O,EACGE,U;;;AAe1B,OAAO,MAAMgB,aAAa,GAAG,CAC3BC,aAD2B,EAE3BC,cAF2B,KAGxB;AAAA;;AACH,QAAM;AAAEd,IAAAA;AAAF,MAAcb,YAAY,EAAhC;AACA,QAAMkB,SAAS,GAAGnB,WAAW,CAAC,YAAY;AACxC,UAAMiB,EAAE,GAAG,MAAMU,aAAa,CAACE,OAAd,CACdvB,OADc,CACNsB,cADM,EACU1B,MAAM,CAAC4B,SAAP,CAAiBC,UAD3B,EAEdC,IAFc,CAET;AAAEC,MAAAA,IAAI,EAAEnB;AAAR,KAFS,CAAjB;AAGA,WAAOG,EAAP;AACD,GAL4B,EAK1B,CAACH,OAAD,EAAUc,cAAV,EAA0BD,aAA1B,CAL0B,CAA7B;AAOA,SAAOR,SAAP;AACD,CAbM;;IAAMO,a;UAISzB,Y","sourcesContent":["import { useCallback } from \"react\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { Contract } from \"web3-eth-contract\";\nimport { ethers } from \"ethers\";\nimport { useDispatch } from \"react-redux\";\nimport { updateUserAllowance, fetchFarmUserDataAsync } from \"state/actions\";\nimport { approve } from \"utils/callHelpers\";\nimport { useMasterchef, useCake, useSousChef, useLottery } from \"./useContract\";\n\n// Approve a Farm\nexport const useApprove = (lpContract: Contract) => {\n  const dispatch = useDispatch();\n  const { account } = useWeb3React();\n  const masterChefContract = useMasterchef();\n\n  const handleApprove = useCallback(async () => {\n    try {\n      const tx = await approve(lpContract, masterChefContract, account);\n      dispatch(fetchFarmUserDataAsync(account));\n      return tx;\n    } catch (e) {\n      return false;\n    }\n  }, [account, dispatch, lpContract, masterChefContract]);\n\n  return { onApprove: handleApprove };\n};\n\n// Approve a Pool\nexport const useSousApprove = (lpContract: Contract, sousId) => {\n  const dispatch = useDispatch();\n  const { account } = useWeb3React();\n  const sousChefContract = useSousChef(sousId);\n\n  const handleApprove = useCallback(async () => {\n    try {\n      const tx = await approve(lpContract, sousChefContract, account);\n      dispatch(updateUserAllowance(sousId, account));\n      return tx;\n    } catch (e) {\n      return false;\n    }\n  }, [account, dispatch, lpContract, sousChefContract, sousId]);\n\n  return { onApprove: handleApprove };\n};\n\n// Approve the lottery\nexport const useLotteryApprove = () => {\n  const { account } = useWeb3React();\n  const cakeContract = useCake();\n  const lotteryContract = useLottery();\n\n  const handleApprove = useCallback(async () => {\n    try {\n      const tx = await approve(cakeContract, lotteryContract, account);\n      return tx;\n    } catch (e) {\n      return false;\n    }\n  }, [account, cakeContract, lotteryContract]);\n\n  return { onApprove: handleApprove };\n};\n\n// Approve an IFO\nexport const useIfoApprove = (\n  tokenContract: Contract,\n  spenderAddress: string\n) => {\n  const { account } = useWeb3React();\n  const onApprove = useCallback(async () => {\n    const tx = await tokenContract.methods\n      .approve(spenderAddress, ethers.constants.MaxUint256)\n      .send({ from: account });\n    return tx;\n  }, [account, spenderAddress, tokenContract]);\n\n  return onApprove;\n};\n"]},"metadata":{},"sourceType":"module"}