{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { useCallback, useState, useEffect } from \"react\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { useLottery, useLotteryTicket } from \"hooks/useContract\";\nimport { multiClaim, getMax, multiBuy } from \"../utils/lotteryUtils\";\nexport const useMultiClaimLottery = () => {\n  _s();\n\n  const {\n    account\n  } = useWeb3React();\n  const lotteryContract = useLottery();\n  const lotteryTicketContract = useLotteryTicket();\n  const handleClaim = useCallback(async () => {\n    try {\n      const txHash = await multiClaim(lotteryContract, lotteryTicketContract, account);\n      return txHash;\n    } catch (e) {\n      return false;\n    }\n  }, [account, lotteryContract, lotteryTicketContract]);\n  return {\n    onMultiClaim: handleClaim\n  };\n};\n\n_s(useMultiClaimLottery, \"8z1r2OV3RqBt1w0y8I7y0pw2oyw=\", false, function () {\n  return [useWeb3React, useLottery, useLotteryTicket];\n});\n\nexport const useMultiBuyLottery = () => {\n  _s2();\n\n  const {\n    account\n  } = useWeb3React();\n  const lotteryContract = useLottery();\n  const handleBuy = useCallback(async (amount, numbers) => {\n    try {\n      const txHash = await multiBuy(lotteryContract, amount, numbers, account);\n      return txHash;\n    } catch (e) {\n      return false;\n    }\n  }, [account, lotteryContract]);\n  return {\n    onMultiBuy: handleBuy\n  };\n};\n\n_s2(useMultiBuyLottery, \"pk4KHFLJcwuk+x5LwYnytOtCIWY=\", false, function () {\n  return [useWeb3React, useLottery];\n});\n\nexport const useMaxNumber = () => {\n  _s3();\n\n  const [max, setMax] = useState(5);\n  const lotteryContract = useLottery();\n  const fetchMax = useCallback(async () => {\n    const maxNumber = await getMax(lotteryContract);\n    setMax(maxNumber);\n  }, [lotteryContract]);\n  useEffect(() => {\n    if (lotteryContract) {\n      fetchMax();\n    }\n  }, [lotteryContract, fetchMax]);\n  return max;\n};\n\n_s3(useMaxNumber, \"4RrRfQUixoegVTSB45jZQwHEma4=\", false, function () {\n  return [useLottery];\n});","map":{"version":3,"sources":["/home/drab/Documents/jazzdefi/src/hooks/useBuyLottery.ts"],"names":["useCallback","useState","useEffect","useWeb3React","useLottery","useLotteryTicket","multiClaim","getMax","multiBuy","useMultiClaimLottery","account","lotteryContract","lotteryTicketContract","handleClaim","txHash","e","onMultiClaim","useMultiBuyLottery","handleBuy","amount","numbers","onMultiBuy","useMaxNumber","max","setMax","fetchMax","maxNumber"],"mappings":";;;;AAAA,SAASA,WAAT,EAAsBC,QAAtB,EAAgCC,SAAhC,QAAiD,OAAjD;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,SAASC,UAAT,EAAqBC,gBAArB,QAA6C,mBAA7C;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,QAA7B,QAA6C,uBAA7C;AAEA,OAAO,MAAMC,oBAAoB,GAAG,MAAM;AAAA;;AACxC,QAAM;AAAEC,IAAAA;AAAF,MAAcP,YAAY,EAAhC;AACA,QAAMQ,eAAe,GAAGP,UAAU,EAAlC;AACA,QAAMQ,qBAAqB,GAAGP,gBAAgB,EAA9C;AAEA,QAAMQ,WAAW,GAAGb,WAAW,CAAC,YAAY;AAC1C,QAAI;AACF,YAAMc,MAAM,GAAG,MAAMR,UAAU,CAC7BK,eAD6B,EAE7BC,qBAF6B,EAG7BF,OAH6B,CAA/B;AAKA,aAAOI,MAAP;AACD,KAPD,CAOE,OAAOC,CAAP,EAAU;AACV,aAAO,KAAP;AACD;AACF,GAX8B,EAW5B,CAACL,OAAD,EAAUC,eAAV,EAA2BC,qBAA3B,CAX4B,CAA/B;AAaA,SAAO;AAAEI,IAAAA,YAAY,EAAEH;AAAhB,GAAP;AACD,CAnBM;;GAAMJ,oB;UACSN,Y,EACIC,U,EACMC,gB;;;AAkBhC,OAAO,MAAMY,kBAAkB,GAAG,MAAM;AAAA;;AACtC,QAAM;AAAEP,IAAAA;AAAF,MAAcP,YAAY,EAAhC;AACA,QAAMQ,eAAe,GAAGP,UAAU,EAAlC;AAEA,QAAMc,SAAS,GAAGlB,WAAW,CAC3B,OAAOmB,MAAP,EAAuBC,OAAvB,KAA+C;AAC7C,QAAI;AACF,YAAMN,MAAM,GAAG,MAAMN,QAAQ,CAC3BG,eAD2B,EAE3BQ,MAF2B,EAG3BC,OAH2B,EAI3BV,OAJ2B,CAA7B;AAMA,aAAOI,MAAP;AACD,KARD,CAQE,OAAOC,CAAP,EAAU;AACV,aAAO,KAAP;AACD;AACF,GAb0B,EAc3B,CAACL,OAAD,EAAUC,eAAV,CAd2B,CAA7B;AAiBA,SAAO;AAAEU,IAAAA,UAAU,EAAEH;AAAd,GAAP;AACD,CAtBM;;IAAMD,kB;UACSd,Y,EACIC,U;;;AAsB1B,OAAO,MAAMkB,YAAY,GAAG,MAAM;AAAA;;AAChC,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBvB,QAAQ,CAAC,CAAD,CAA9B;AACA,QAAMU,eAAe,GAAGP,UAAU,EAAlC;AAEA,QAAMqB,QAAQ,GAAGzB,WAAW,CAAC,YAAY;AACvC,UAAM0B,SAAS,GAAG,MAAMnB,MAAM,CAACI,eAAD,CAA9B;AACAa,IAAAA,MAAM,CAACE,SAAD,CAAN;AACD,GAH2B,EAGzB,CAACf,eAAD,CAHyB,CAA5B;AAKAT,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,eAAJ,EAAqB;AACnBc,MAAAA,QAAQ;AACT;AACF,GAJQ,EAIN,CAACd,eAAD,EAAkBc,QAAlB,CAJM,CAAT;AAMA,SAAOF,GAAP;AACD,CAhBM;;IAAMD,Y;UAEalB,U","sourcesContent":["import { useCallback, useState, useEffect } from \"react\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { useLottery, useLotteryTicket } from \"hooks/useContract\";\nimport { multiClaim, getMax, multiBuy } from \"../utils/lotteryUtils\";\n\nexport const useMultiClaimLottery = () => {\n  const { account } = useWeb3React();\n  const lotteryContract = useLottery();\n  const lotteryTicketContract = useLotteryTicket();\n\n  const handleClaim = useCallback(async () => {\n    try {\n      const txHash = await multiClaim(\n        lotteryContract,\n        lotteryTicketContract,\n        account\n      );\n      return txHash;\n    } catch (e) {\n      return false;\n    }\n  }, [account, lotteryContract, lotteryTicketContract]);\n\n  return { onMultiClaim: handleClaim };\n};\n\nexport const useMultiBuyLottery = () => {\n  const { account } = useWeb3React();\n  const lotteryContract = useLottery();\n\n  const handleBuy = useCallback(\n    async (amount: string, numbers: Array<any>) => {\n      try {\n        const txHash = await multiBuy(\n          lotteryContract,\n          amount,\n          numbers,\n          account\n        );\n        return txHash;\n      } catch (e) {\n        return false;\n      }\n    },\n    [account, lotteryContract]\n  );\n\n  return { onMultiBuy: handleBuy };\n};\n\nexport const useMaxNumber = () => {\n  const [max, setMax] = useState(5);\n  const lotteryContract = useLottery();\n\n  const fetchMax = useCallback(async () => {\n    const maxNumber = await getMax(lotteryContract);\n    setMax(maxNumber);\n  }, [lotteryContract]);\n\n  useEffect(() => {\n    if (lotteryContract) {\n      fetchMax();\n    }\n  }, [lotteryContract, fetchMax]);\n\n  return max;\n};\n"]},"metadata":{},"sourceType":"module"}